<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<title>Services - Queues</title>
<link rel="stylesheet" href="../../../../styles/site.css" type="text/css" />
<style type="text/css">.highlight { background: #FFFF40; }</style> 
<script type="text/javascript" src="../highlight.js"></script></head>

<body onLoad="highlight();">
<h2>Queues</h2>

<p>Clicking  <strong>Services</strong> &gt;<strong> Queues </strong>displays a list of queues. </p>
<p><img src="queues.png" alt="Services - Queues tab" border="1"></p>
<p>You can perform the following tasks from the Queues page:</p>
<ul>
  <li><a href="#addQueue">Add</a> a new queue</li>
  <li><a href="#deleteQueue">Delete</a> a queue</li>
</ul>
<h3><a name="addQueue"></a>Add a Queue</h3>
<p>To add a new queue, complete these steps:</p>
<ol>
  <li>From the Queues page, click the <strong>Add</strong> button.</li>
  <li>The New Queue dialog appears. <br>
    <br>
    <img src="queuesNewQueueDialog.png" alt="Queues tab - New Queue dialog" border="1"><br>
    <br>
    Complete the following fields:<br>
    <br>
    <table width="628" class='confluenceTable'>
      <tbody>
        <tr>
          <th width="172" class='confluenceTh'>Field</th>
          <th width="444" class='confluenceTh'>Description</th>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Queue Name</strong></td>
          <td class='confluenceTd'>Enter the name of your queue.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Queue Type</strong></td>
          <td class='confluenceTd'><p>Click the drop-down menu and select from one of the following queue types:</p>
          <ul>
          	<li><strong>DB</strong></li>
          	<li><strong>JMS</strong></li>
          	<li><strong>MQ</strong></li>
          	<li><strong>Custom</strong></li>
          </ul></td>
          </td>
        </tr>
      </tbody>
    </table>
    <br>
  </li>
  <li>Click the <strong>OK</strong> button. A confirmation message appears, indicating that your new queue has been successfully created and appears in the left pane.<br>
    <br>
    <img src="queuesNewQueueCreated.png" alt="Queues tab - New queue successfully created" border="1"><br>
    <br>
  </li>
  <li>Depending on the <strong>Queue Type</strong> field that you have selected, the following fields appear:.<br>
    <br>
    <table class='confluenceTable'>
      <tbody>
        <tr>
          <th class='confluenceTh'>Field</th>
          <th class='confluenceTh'>Description</th>
          <th class='confluenceTh'>Queue Type</th>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Queue Type</b></td>
          <td class='confluenceTd'>This field denotes the type of queue that you specified when creating your queue. This field cannot be changed after you have created your port</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Module</b></td>
          <td class='confluenceTd'>This field contains the module for this queue. This field is only editable for the Custom queue type. Click the field's drop-down menu and select the module that you want from the list.<br></td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Select</strong></td>
          <td class='confluenceTd'>This field allows you to specify the JMS select.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Destination</strong></td>
          <td class='confluenceTd'>This field allows you to specify the JMS destination.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Threads</b></td>
          <td class='confluenceTd'>This field represents the number of threads that the quuee uses. You can change this number in this field.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Message Handler</strong></td>
          <td class='confluenceTd'>This field allows you to specify the message handler for the queue. Click the field's drop-down menu and select a message handler from the list.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Default Accesses</b></td>
          <td class='confluenceTd'>This field allows you to specify default access to the queue.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Restricted Accesses</strong></td>
          <td class='confluenceTd'><p>This field allows you to restrict access to the queue.</p></td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Restriction Calendar</strong><br></td>
          <td class='confluenceTd'><p>To specify a restriction calendar, click this field's drop-down menu and select a calendar from the list.</p></td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Collect Statistics</strong></td>
          <td class='confluenceTd'>To collect statistics for this queue, select this field's checkbox. By default, this field is unchecked.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Topic</strong></td>
          <td class='confluenceTd'>To indicate that this queue support topics, select this field's checkbox. By default, this field is unchecked. </td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Log Messages</strong></td>
          <td class='confluenceTd'>To indicate that you want to log messages for your queue, select this field's checkbox. By default, this field is unchecked.</td>
          <td class='confluenceTd'>All</td>
        </tr>
      </tbody>
    </table>
    <br>
  </li>
  <li>Expand the Port header and complete the following fields:
    <br>
    <br>
    <table class='confluenceTable'>
      <tbody>
        <tr>
          <th class='confluenceTh'>Field</th>
          <th class='confluenceTh'>Description</th>
          <th class='confluenceTh'>Queue Type</th>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Port Reference</strong></td>
          <td class='confluenceTd'>Click this field's drop-down menu and select the port reference from the list.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Location</strong></td>
          <td class='confluenceTd'>This field allows you to specify the service location. This URL takes the following form:
            <div class="code">
              <div class="codeContent">
                <pre class="code-java">
http:<span class="code-comment">//host:port/cwf/services/&lt;interfaceName&gt;</span>
                </pre>
              </div>
            </div>
            Where <em>interfaceName</em> indicates the metadata Interface object implementing this service.</td>
          <td class='confluenceTd'>All</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Username</strong></td>
          <td class='confluenceTd'>The username if the server requires authentication.</td>
          <td class='confluenceTd'>MQ, Custom</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Password</strong></td>
          <td class='confluenceTd'>The password for server access.</td>
          <td class='confluenceTd'>MQ, Custom</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Encoding</strong></td>
          <td class='confluenceTd'>Click this drop-down menu and select the encoding format from the list.</td>
          <td class='confluenceTd'>MQ, Custom, JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Queue Manager</strong></td>
          <td class='confluenceTd'>This field allows you to specify the queue manager name.</td>
          <td class='confluenceTd'>MQ</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Channel</strong></td>
          <td class='confluenceTd'>This field denotes the channel to use.	 </td>
          <td class='confluenceTd'>MQ</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Cipher Suite</strong></td>
          <td class='confluenceTd'>This field allows you to specify the cipher suite algorithm to be used by the MQ SSL. 
	This parameter is sent to activate the connection factory.</td>
          <td class='confluenceTd'>MQ, Custom, JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Distributed (Port)</strong></td>
          <td class='confluenceTd'>This field  indicate that the port is a distributed port. By default, this checkbox is unchecked. </td>
          <td class='confluenceTd'>MQ, Custom, JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Transactional (Port)</strong></td>
          <td class='confluenceTd'><p>The request message stays in queue until after receiving 
          a confirmation response from receiving end. This setting is only relevant for listeners and servers, and not clients. </p>
          <p>Transaction support is available only when an interface is used 
		 by the listener&#160;(incoming messages). This option, when selected, allows the listener perform message processing in transaction 
		 manner: If message processing encounters any errors (usually in 
		 script processing module), the message is put back on the queue 
		 for reprocessing. Message reprocessing parameters (that is, message 
		 reprocessing attempt, priority, delay, and so on are usually controlled 
		 by MQ Server configuration).</p>
          <p><strong>Note: </strong>For MQ, messages can be either plain text or XML.</p></td>
          <td class='confluenceTd'>MQ</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>JMS Client (Port)</strong></td>
          <td class='confluenceTd'>For MQ, this field denotes the JMS client for the port.</td>
          <td class='confluenceTd'>MQ</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>JNDI User</strong></td>
          <td class='confluenceTd'>This field is the JNDI username to connect to the server.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>JNDI Password</strong></td>
          <td class='confluenceTd'>This field is the  JNDI password to connect to the server.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>JNDI Class</strong></td>
          <td class='confluenceTd'>This field contains the full name of the initial context factory class.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Factory</strong></td>
          <td class='confluenceTd'>This field is the JMS connection factory name to connect to the queue or topic. </td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Use JNDI Credential</strong></td>
          <td class='confluenceTd'>By default, this field is unchecked, meaning that the JNDI credential is not used. To use this credential, select this field's checkbox.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Connection User</strong></td>
          <td class='confluenceTd'>This field is the username for the JMS connection.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Connection Password</strong></td>
          <td class='confluenceTd'>This field is the password for the JMS connection.</td>
          <td class='confluenceTd'>JMS</td>
        </tr>
      </tbody>
    </table>
    <br>
  </li>
  <li>Expand the Policy header and complete the following fields for all queue types:

    <br>
    <br>
    <table class='confluenceTable'>
      <tbody>
        <tr>
          <th class='confluenceTh'>Field</th>
          <th class='confluenceTh'>Description</th>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Port Reference</strong></td>
          <td class='confluenceTd'>Click this field's drop-down menu and select the port reference from the list.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Error Resolution</strong></td>
          <td class='confluenceTd'>This field allows you to specify how to handle errors that occur in the queue. Click the field's drop-down menu and specify the error resolution type from the list.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Max Errors</strong></td>
          <td class='confluenceTd'>This field denotes the maximum number of errors accepted for the queue. The default value for this field is 10 errors.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Max Errors Delay</strong></td>
          <td class='confluenceTd'>This field represents the maximum number of errors allowed that the  queue waits. The default value for this field is 30 errors.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Priority</strong></td>
          <td class='confluenceTd'>This field specifies the queue priority. By default, this field contains a value of 1.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><strong>Receive Timeout</strong></td>
          <td class='confluenceTd'>This field denotes the timeout value to receive messages in the queue. The default value for this field is 10 minutes.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Retry Count</b></td>
          <td class='confluenceTd'>This value is used to calculated the number of times the runtime framework attempts to use this port before marking it unavailable (in error status). Its default value is 2. The framework tries to use this port by this value + 1 times before going into error status. Using the default value of 2 implies that the framework will try to use this port 4 times before the process status is in error.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Retry Interval</b></td>
          <td class='confluenceTd'>This field represents the delay in minutes between retries. Use 0 for no limit. By default, this field contains the value of 10.</td>
        </tr>
        <tr>
          <td class='confluenceTd'><b>Time To Live</b></td>
          <td class='confluenceTd'>This field contains the time that the queue remains active in minutes. By default, this field contains a value of 15.</td>
        </tr>
      </tbody>
    </table>
    <br>
  </li>
  <li>Click the <strong>Save</strong> button. A confirmation message appears, indicating that you have successfully created your new port.</li>
</ol>
<p><b>Notes</b>: </p>
<ul>
  <li>The <strong>Threads</strong> field can be set at both cluster and node levels. If you have different hardware dimensioning for each node in the cluster, you may want to specify a different thread count at the node level for each node that suits the dimensioning.</li>
  <li>When  you change the number of threads for either a listener or a queue, this value is also updated under the same port in the Services tab or the same queue under the Queues tab.</li>
</ul>
<h3><a name="deleteQueue"></a>Delete a Queue</h3>
<p>To delete a queue, do the following:</p>
<ol>
  <li>From the Queue  page, select the queue that you want to delete from the left menu, and then click the <strong>Delete</strong> button.<br>
    <br>
    <img src="queuesDeleteButton.png" alt="Queues tab - Delete button" border="1"> <br>
    <br>
  </li>
</ol>
<ol>
  <li>A dialog appears, prompting you to confirm deleting the catalog server. Click the <strong>Yes</strong> button.</li>
  <li>The page refreshes and your selected queue has been deleted.</li>
</ol>
<p>&nbsp;</p>
</body>
</html>
