<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Import Catalog</title>
<link rel="StyleSheet" href="../../site.css" type="text/css" />
<style type="text/css">
.highlight {
	background: #FFFF40;
}
</style>
<script type="text/javascript" src="../../highlight.js"></script>
</head>
<body onLoad="highlight();">
<table class="pagecontent" cellspacing="0" width="100%" bgcolor="#FFFFFF">
  <tr>
    <td valign="top" class="pagebody"><h2>Import Catalog</h2>
      <p>The import functionality allows you to  import data, such as images, attachments, and files into Catalog. Importing a catalog converts the  date from GMT to local time, based on the timezone that you are in. To import catalog related data, follow these steps:</p>
      <ol>
        <li>From the Overview page, click<strong> Import/ Export &gt; Import Catalog</strong> form the<strong> Quick Start</strong> section.</li>
        <li>The Import page appears with the Import type section. </li>
        <li>Click the drop-down list of the <strong>Object type to import</strong> field. 
          The following table describes the options for this field:        <br>
          <br>
        </li>
        <table  border cellpadding="1" class='confluenceTable'>
          <tbody>
            <tr>
              <th  class='confluenceTh'>Field</th>
              <th  class='confluenceTh'>Description</th>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Object Type to import</strong></td>
              <td class='confluenceTd'><p>This field indicates what type of object is being imported. The drop-down list has the following options:</p>
                <table  border cellpadding="1" class='confluenceTable'>
                  <tbody>
                    <tr>
                      <th class='confluenceTh'>Option</th>
                      <th  class='confluenceTh'>Description</th>
                    </tr>
                    <tr>
                      <td  class='confluenceTd'><strong>Data</strong></td>
                      <td class='confluenceTd'><p>Select this option to import the catalog data. Catalog data can be in .zip or . xml format.</p></td>
                    </tr>
                    <tr>
                      <td  class='confluenceTd'><strong>Image/Attachment</strong></td>
                      <td class='confluenceTd'><p>Select this option to import the image or attachment. Use Select input file path field to import the Image or attachment.</p></td>
                    </tr>
                </table></td>
            </tr>
        </table>
        </p>
        <li>Select the <strong>Data</strong> option.</li>
        <li>The Import Method section appears. The following table describes the field for this section:<br>
          <br>
        </li>
        <table  border cellpadding="1" class='confluenceTable'>
          <tbody>
            <tr>
              <th  class='confluenceTh'>Field</th>
              <th  class='confluenceTh'>Description</th>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Select input file path</strong></td>
              <td class='confluenceTd'><p>This field allows you to enter the path for the file containing the catalog data. You can enter the directory path for your image or to your catalog file to import directly from the   server. </p></td>
            </tr>
            <tr>
              <td class='confluenceTd'><strong>Upload  input file</strong></td>
              <td class='confluenceTd'><p>This field allows you to browse, select, and upload the catalog data file.</p></td>
            </tr>
        </table>
        </p>
        <li>Select Upload input file field and upload a file. The following steps describe  how to upload a file:
          <ol type="a">
            <li>Select the upload input file option, and then click the <strong>Choose Files</strong> button. </li>
            <li>The Open dialog appears prompting you to select a file. Select the file with catalog data.</li>
            <li>Click the <strong>Open </strong>button, and then click the <strong>Upload</strong> button.</li>
          </ol>
          <strong>Note:</strong> The fields  for the import option and change management may differ
          for different types of files selected for these fields.</li>
        <li>The Import option and Change management sections appear. As per the data import preference, enter or select the following information in the fields:</li>
        <p>
        <table  border cellpadding="1" class='confluenceTable'>
          <tbody>
            <tr>
              <th  class='confluenceTh'>Field</th>
              <th  class='confluenceTh'>Description</th>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Log general information</strong></td>
              <td class='confluenceTd'>When selected, this check box  logs the information of imported data. </td>
            </tr>
            <tr>
              <td h class='confluenceTd'><strong>Import domains</strong></td>
              <td class='confluenceTd'>When selected, this check box imports the domains along with data.</td>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Delete project (prior to import)</strong></td>
              <td class='confluenceTd'>Select this check box to delete the project prior importing the data.</td>
            </tr>
            <tr>
              <td class='confluenceTd'><strong>Exclude before</strong></td>
              <td class='confluenceTd'>This field allows you to  exclude catalog data from a  specific date during import.</td>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Max errors</strong></td>
              <td class='confluenceTd'>This field indicates the maximum number of errors being displayed while import process. The default value for this field is one hundred (100).</td>
            </tr>
            <tr>
              <td class='confluenceTd'><strong>Specify log file path</strong></td>
              <td class='confluenceTd'>This field is used to specify the directory path  to save the log file. </td>
            </tr>
            <tr>
              <td class='confluenceTd'><strong>New project effective date</strong></td>
              <td class='confluenceTd'><p>This field indicates the changed  date of the project and its objects. Refer to <a href="../../UserGuide/Objects/StartEnd_Dates.html">Start and End dates</a><a href="StartEnd_Dates.html"></a> for details.</p></td>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Project Effective End Date</strong></td>
              <td class='confluenceTd'><p>This field denotes the new end date for the project and its objects. It is the date when the project and its objects are no longer effective.</p></td>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>New project status</strong></td>
              <td class='confluenceTd'><p> This field indicates a list of available <a href="../../UserGuide/Objects/States.html">status</a> to select from the drop-down (for example, <strong>Definition</strong> and<strong> Active</strong>). </p></td>
            </tr>
            <tr>
              <td  class='confluenceTd'><strong>Validate Dates</strong></td>
              <td class='confluenceTd'>Select this checkbox to  perform a validation on the dates of catalog data.</td>
            </tr>
        </table>
        <p>
        <li>Click the <strong>Start Import </strong> button.</li>
        <li>The Import Results section appears with a summary  of your catalog import.</li>
        <li> Click the <strong>Close</strong> button to return to the Overview page of Catalog Designer.</li>
        <p><img src="importCatalogSummary.png" alt="Import Summary"/ ></p>
      </ol>
      <p><strong>Notes:</strong></p>
      <ul>
        <li>The Import and Export functions use the <a href="ImportExportCatalogXML.html"><i>Template.xml</i></a> files to load the Import File or export the Export File.  If this file is not present in the &lt;metadata home&gt;/resources/Excel Template folder, the Import and Export program does not work.</li>
        <li>When the import does not have information about the hierarchy type, it defaults to classification.</li>
        <li>When you import an already activated project, the application and system cache are refreshed with all catalog changes made in that project, based on the  effective date and the change management thread's next cycle. if the imported project is active and effective, after five minutes (perhaps even less time, depending on the current cycle), the change management thread  refreshes the cache according to this project's changes. </li>
      </ul>
      <h3><a name="importCommandLine"></a>Import Catalog from the Command Line</h3>
      <p>You can import your catalog from the command line in Windows and UNIX. A short cut command can be found in the <em>&lt;installation_ folder&gt;\designer\env\catalogImport.sql. </em>The catalog import syntax is as follows:</p>
      <div class="preformatted">
        <div class="preformattedContent">
          <pre>@echo off
if ""%1""=="""" goto echoSyntax

set CWOC_CLASSPATH=C:\EOC Product\14.x\14449
set CLASSPATH=%CWOC_CLASSPATH%\designer\Designer.jar;^
%CWOC_CLASSPATH%\lib\oracle\ojdbc6.jar;^
%CWOC_CLASSPATH%\lib\oracle\orai18n.jar;^
%CWOC_CLASSPATH%\lib\oracle\orai18n-mapping.jar;^
%CWOC_CLASSPATH%\lib\ilog\sdworkflowmodeler.deployed.jar;^
%CWOC_CLASSPATH%\lib\jdic\JDICplus.jar;^
%CWOC_CLASSPATH%\lib\axis2\addressing-1.41.mar;^
%CWOC_CLASSPATH%\lib\axis2\rampart-1.5.mar;^
%CWOC_CLASSPATH%\lib\axis2\mex-1.4.1.mar;^
%CWOC_CLASSPATH%\lib\axis2\wstx-asl-3.2.4.jar;^
%CWOC_CLASSPATH%\lib\axis2\rampart-core-1.5.jar;^
%CWOC_CLASSPATH%\lib\axis2\rampart-policy-1.5.jar;

set JAVA_OPTS=-Xms1024m -Xmx1024m -XX:MaxPermSize=128m -Dcom.conceptwave.licenseDir="%CWOC_CLASSPATH%"\designer\env -Dcom.conceptwave.modules.path="%CWOC_CLASSPATH%"\modules

"C:\Program Files\Java\jdk1.7.0_51\bin\java" %JAVA_OPTS% -cp "%CLASSPATH%" com.conceptwave.servicedesigner.ServiceDesigner -catalogimport %*

goto end
:echoSyntax
echo ----------------------------------------------------------------
echo Syntax:  catalogImport [-logFile logFile] username=? [password=?] server_url=? import_file=? 
echo         [exclude_before=?] [log_general_info=?] [import_domains=?] [import_codetable=?]
echo		 [deleteProjectBeforeImport=?] [validateDates=?] [newStatus=?] [newProjectEffectiveDate=?] 
echo		 [maintainOffset=?] [updateFutureDates=?] [moveEndDatedObjects=?] [effectiveEndDate=?]
echo ----------------------------------------------------------------
echo Note:    password could be input from console.
echo 					log_general_info: default is true.
echo          import_domains: default is true.
echo          exclude_before date format: yyyy-MM-dd.
echo ----------------------------------------------------------------
echo Example: catalogImport username=a password=b server_url=http://server:8080/cwf import_file=c:/temp/myfile.xml exclude_before=2010-01-01 log_general_info=true import_domains=false
echo          catalogImport username=a server_url=http://server:8080/cwf import_file=c:/temp/myfile.xml 
echo          catalogImport username=a password=b server_url=http://server:8080/cwf import_file=c:/temp/myfile.xml import_domains=true
echo          catalogImport username=a password=b server_url=http://server:8080/cwf import_file=C:/temp/ACC_CAN_TYPE.xml import_codetable=true log_general_info=false import_domains=false
echo          catalogImport username=a password=b server_url=http://server:8080/cwf import_file=C:/temp/ import_codetable=true log_general_info=false import_domains=false deleteProjectBeforeImport=true
                             validateDates=false newStatus=ACT newProjectEffectiveDate=2013-05-30 maintainOffset=true updateFutureDates=false moveEndDatedObjects=false effectiveEndDate=2013-04-22
echo          catalogImport username=a server_url=http://server:8080/cwf import_file=c:/temp/myfile.zip 
echo ----------------------------------------------------------------
:end</pre>
        </div>
      </div>
      <p>Where:</p>
      <ul>
        <li><em>logfile</em> allows you to specify the log file for a command line. It is an optional parameters. However, when used, it must be the first parameter.</li>
        <li><em>password</em> can be input from the console. </li>
        <li><em>server_url</em> indicates the running catalog server, which performs the importing task.</li>
        <li><em>log_general_info</em> has a default of true.</li>
        <li><em>import_domains</em> has a default of true.</li>
        <li><em> exclude_before</em> takes <em>yyyy-MM-dd</em> as its date format.</li>
      </ul>
      <p><strong>Notes:</strong> </p>
      <ul>
        <li>The <em>username</em>, <em>server_url</em>, and <em>import_file</em> attributes are mandatory for importing.</li>
        <li>When the <em>import_codetable</em> parameter is set to true, the <em>import_file</em> parameter can be a folder that contains a number of XML files. Ensure that your folder contains XML files. Having other file types in this folder causes an exception to be thrown when you run the catalog import command.</li>
      </ul></td>
  </tr>
</table>
</body>
</html>
